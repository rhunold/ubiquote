



{% if search_query and page_number == 1 %}
<p>{{ count }} results for "{{ search_query }}"...</p>
{% else %}
{% endif %}       

    {% for quote in quotes %}

      <!-- Trigger pagination/infinite scroll -->        
        {% if forloop.last and next_page_url %}
            <div class="card mt-3"
            hx-get="{% url 'quotes:get-quotes' %}?page={{ page_number|add:1 }}{% if search_query %}&q={{ search_query }}{% endif %}" 
            hx-trigger="revealed" 
            hx-swap="afterend" 
            hx-target="this">
        {% else %}
            <div class="card mt-3">
        {% endif %}

        {% include "quote_card.html" %}

    



    {% empty %}
        <!-- If empty -->
        <p>There is no quotes here.</p>
    {% endfor %}



