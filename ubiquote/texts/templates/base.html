{% load i18n %}
{% load static %} 

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <title>{% block title %} Ubiquote{% endblock %}</title>
    <meta name="description" content="{% block meta_decription %}The best quote listing{% endblock %}">

    <meta property="og:title" content="{% block og_title %}Ubiquote{% endblock %}">
    <meta property="og:description" content="{% block og_description%}Join our community of inspiration seekers. Save, recommend, and generate stunning quote content.{% endblock %}">
    <meta property="og:image" content="{% block og_image%}/static/images/preview.jpg{% endblock %}">    


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    
    <!-- Load an icon library for nav icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">        
        
    
    <link href="{% static 'base/base.css' %}" rel="stylesheet">

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    

    
    <!-- <noscript>
        <style>
        .no-js .card   {
            filter: none;
            }    
        </style>
    </noscript> -->


    <script src="https://unpkg.com/htmx.org@1.9.8"></script>

    <!-- For Author selector in add/update mode -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script> -->
    <!-- <link href="{% static 'admin/css/vendor/select2/select2.css' %}" rel="stylesheet">    -->

    <script src="{% static 'base/base.js' %}"></script> 

<!-- <script>
  const token = localStorage.getItem('access');

fetch("/fr/api/", {
  headers: {
    "Authorization": "Bearer " + token,
    "Accept": "application/json"
  }
})
  .then(res => res.json())
  .then(data => {
    console.log("Quotes:", data);
    // Inject quotes into the page...
  });
  </script> -->

    {% block custom_static %}

    {% endblock %}



  </head>
  <body>


    {% include "nav.html" %}

    <div class="container-fluid">

    {% block layout %}{% endblock %}

    </div>    

    {% include "footer.html" %}    

    <!-- HTMX will inject the modal here -->
    <div id="modal-container"></div>

    <script src="{% static 'base/after_on_load.js' %}"></script>     


    {% comment %}    {% endcomment %}


<!-- 
    <script>
      document.body.addEventListener('htmx:configRequest', (e) => {
        e.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
        })

      function refreshToken() {
          const refreshToken = localStorage.getItem('refresh_token');
          
          fetch('http://127.0.0.1:8000/api/token/refresh/', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify({ refresh: refreshToken }),
              
          })

          console.log("Fetched")
          
          .then(response => response.json())
          .then(data => {
              if (data.access) {
                  // Store the new access token
                  localStorage.setItem('access_token', data.access);
                  console.error("New access token stored");
              } else {
                  console.error("Token refresh failed");
              }
          });
      }
    </script>     -->


  </body>
</html>