{% extends 'base.html' %}
{% load static %}
{% load i18n %}



{% block title %}{{ count }} Authors{% endblock %}
{% block meta_decription %}All the authors{% endblock %}

{% block body %}
    <!-- <h1>Authors</h1> -->

    <!-- <p>{{ count }} authors available in the database</p> -->


     

    <form class="search_bar row g-3 bg-transparent">

        <div class="col-md">
            <!-- HTMX target for the list -->
            <input 
            placeholder="{% blocktrans %}Search {{ count }} authors{% endblocktrans %}"
            value="{{ search_query }}"
            class="form-control me-2" 
            type="text" 
            name="q"
            hx-get="{% url 'authors:get-authors' %}"
            hx-trigger="keyup changed delay:500ms"
            hx-target="#results"
            hx-swap="innerHTML">
        </div>    

        <div class="col-auto">
            <button class="btn btn-primary x-1" type="submit">Search</button>
        </div>  
    </form>


    <div class="row g-3 m-md-1 bg-transparent">
    <!-- <p> {{ count }} auteurs</p>  -->
    <ul id="results" class="list-group list-group-numbered col-md" >
        {% include 'author_list.html' %}
    </ul>   
</div>

{% include "quotes_pagination.html" %}




{% if user.is_superuser %} 
<a href="{% url 'authors:add-author' %}" class="link-offset-2 link-underline link-underline-opacity-10">{% translate "Add author" %}</a>
{% endif %}

{% endblock %}  